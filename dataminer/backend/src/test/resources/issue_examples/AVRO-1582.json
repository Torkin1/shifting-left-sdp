{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12739954","self":"https://issues.apache.org/jira/rest/api/2/issue/12739954","key":"AVRO-1582","fields":{"fixVersions":[],"resolution":null,"customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12312321":null,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323299","id":"12323299","description":"may contain incompatible API changes","name":"1.8.0","archived":false,"released":true,"releaseDate":"2016-01-29"}],"customfield_12311120":null,"customfield_12313826":null,"issuelinks":[{"id":"12624150","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12624150","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"13317634","key":"AVRO-2899","self":"https://issues.apache.org/jira/rest/api/2/issue/13317634","fields":{"summary":"JsonEncoder writes type information for not-null union","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12485809","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12485809","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"13018618","key":"AVRO-1950","self":"https://issues.apache.org/jira/rest/api/2/issue/13018618","fields":{"summary":"Better Json serialization for Avro decimal logical types?","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12624149","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12624149","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"13401731","key":"AVRO-3210","self":"https://issues.apache.org/jira/rest/api/2/issue/13401731","fields":{"summary":"how the Avro Schema with Union type can accept the ‘normal JSON’ ","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12646380","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12646380","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"13478361","key":"AVRO-3620","self":"https://issues.apache.org/jira/rest/api/2/issue/13478361","fields":{"summary":"name vs. fullname in JSON encoding of union","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12434167","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12434167","type":{"id":"12310040","name":"Required","inward":"is required by","outward":"requires","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310040"},"outwardIssue":{"id":"12851478","key":"AVRO-1711","self":"https://issues.apache.org/jira/rest/api/2/issue/12851478","fields":{"summary":"JsonDecoder.skipChildren skips more than it should.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"customfield_12313825":null,"assignee":null,"customfield_12312337":null,"customfield_12313823":null,"customfield_12312338":null,"customfield_12311920":null,"customfield_12313822":null,"customfield_12312335":null,"customfield_12313821":null,"customfield_12312336":null,"customfield_12313820":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312780","id":"12312780","name":"java","description":"The Java implementation of the Avro specification."}],"archiveddate":null,"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"aggregateprogress":{"progress":0,"total":0},"customfield_12313520":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"customfield_12313924":null,"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AVRO-1582/votes","votes":25,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"archivedby":null,"customfield_12313920":null,"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140},"timespent":null,"customfield_12314020":"{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@11965c3b[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7cca648d[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@d406c8e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@22018fa7[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@ac29e93[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@8b5e3a[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@ea176b9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@2073ac7d[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3e5b98e6[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@64fb6b99[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@616add01[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5cc78515[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}","customfield_12314141":null,"customfield_12314140":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310911","id":"12310911","key":"AVRO","name":"Apache Avro","projectTypeKey":"software","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310911&avatarId=53603","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310911&avatarId=53603","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310911&avatarId=53603","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310911&avatarId=53603"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10420","id":"10420","description":"a serialization system","name":"Avro"}},"aggregatetimespent":null,"customfield_12312520":null,"customfield_12312521":"Tue Jun 25 10:26:19 UTC 2024","customfield_12314422":null,"customfield_12314421":null,"customfield_12314146":null,"customfield_12314420":null,"customfield_12314145":null,"customfield_12314144":null,"customfield_12314143":null,"resolutiondate":null,"workratio":-1,"customfield_12312923":null,"customfield_12312920":null,"customfield_12312921":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/AVRO-1582/watchers","watchCount":46,"isWatching":false},"created":"2014-09-08T19:48:49.566+0000","customfield_12310192":null,"customfield_12310191":null,"customfield_12310230":null,"updated":"2024-06-25T10:26:19.269+0000","timeoriginalestimate":null,"description":"Currently serializing a nullable field of type union like:\n\"type\" : [\"null\",\"some type\"]\n\nwhen serialized as JSON results in:  \n\n\"field\":{\"some type\":\"value\"}\n\nwhen it could be:\n\n\"field\":\"value\"\n\nAlso fields that equal the the default value can be omitted from the serialized data. This is possible because the reader will have the writer's schema and can infer the field values. This reduces the size of the json messages.\n\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12314523":null,"customfield_12314127":null,"customfield_12314522":null,"customfield_12314126":null,"customfield_12314521":null,"customfield_12314125":null,"customfield_12314520":null,"customfield_12314124":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12667223","id":"12667223","filename":"AVRO-1582-PATCH","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2014-09-08T19:53:37.304+0000","size":2097,"mimeType":"text/html","content":"https://issues.apache.org/jira/secure/attachment/12667223/AVRO-1582-PATCH"}],"customfield_12314123":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12314122":null,"customfield_12314121":null,"customfield_12314120":null,"customfield_12314129":null,"customfield_12314524":null,"customfield_12314128":null,"summary":"Json serialization of nullable fields and fields with default values improvement.","customfield_12314130":null,"customfield_12310291":null,"customfield_12310290":null,"customfield_12311024":null,"customfield_12314138":null,"customfield_12314137":null,"environment":null,"customfield_12314136":null,"customfield_12314135":null,"customfield_12311020":null,"customfield_12314134":null,"duedate":null,"customfield_12314132":null,"customfield_12314131":null,"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14126000","id":"14126000","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"body":"attached proposed implementation","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2014-09-08T19:53:37.310+0000","updated":"2014-09-08T19:53:37.310+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14134063","id":"14134063","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"That works for some unions but not all.  For example, [\"null\", \"string\", \"bytes\"] requires the tag.  Moreover, this would be an incompatible change to an Avro data format, and we've promised folks we won't change data formats incompatibly until we have a 2.0 release.\n\nNote that GenericData#toString() will produce JSON output of the form you desire.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-09-15T16:14:26.731+0000","updated":"2014-09-15T16:17:26.629+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14134553","id":"14134553","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"body":"Hi Doug, unions with null with more than 2  other types will be serialized the same was as they are now.\nMy patch only does this \"enhancement\" for unions of a null and another type.\nI understand that we should not break compatibility until release 2.0, but do you think this could be  something that we might want to consider for 2.0 ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2014-09-15T21:53:49.386+0000","updated":"2014-09-15T21:53:49.386+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14235605","id":"14235605","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"body":"I have created Encoder/Decoder that extends current Json encoders/Decoders that does this optimization for the union {null, type} case, and also an optimization to omit at serialization time the fields that are equal with the default value, and infer them at deserialization time from the schema....\n\nAny interest in these being included as an Extended Json format into the library?\n\nlet me know, thank you","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2014-12-05T15:18:02.016+0000","updated":"2014-12-05T15:18:02.016+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14236341","id":"14236341","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rdblue","name":"rdblue","key":"rdblue","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rdblue&avatarId=20387","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rdblue&avatarId=20387","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rdblue&avatarId=20387","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rdblue&avatarId=20387"},"displayName":"Ryan Blue","active":true,"timeZone":"America/Los_Angeles"},"body":"I don't think we should change the JSON format. This would require updating all of the implementations' readers and I don't see much benefit to the feature other than JSON that is a bit easier to read -- size isn't a concern because there is a binary encoding option and this is cheap when compressed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rdblue","name":"rdblue","key":"rdblue","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rdblue&avatarId=20387","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rdblue&avatarId=20387","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rdblue&avatarId=20387","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rdblue&avatarId=20387"},"displayName":"Ryan Blue","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-12-06T00:11:50.043+0000","updated":"2014-12-06T00:11:50.043+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14245903","id":"14245903","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"body":"Ryan, we don't have to change the current Json format, I have created another set of encoders/decoders that implement what I suggesting. (They extend the current ones, \nso that I can read/write both formats) I think there might be some interest in this functionality, AVRO-1618 seems to be somewhat related.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2014-12-14T12:36:58.823+0000","updated":"2014-12-14T12:36:58.823+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14246138","id":"14246138","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"body":"{quote}\ncase, and also an optimization to omit at serialization time the fields that are equal with the default value, and infer them at deserialization time from the schema....\n{quote}\n\nHow does this deal with the reader schema having a different default than the writer schema? It seems like if you want \"default of reader's schema\" as a serialized value it's less surprising to implement that as a special case in the application layer.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2014-12-14T21:36:32.092+0000","updated":"2014-12-14T21:36:32.092+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14246172","id":"14246172","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"body":"I use the writer's schema to infer the missing value, I believe that would be the correct assumption to make.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2014-12-14T22:30:39.622+0000","updated":"2014-12-14T22:30:39.622+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14248573","id":"14248573","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"In order to be unambiguous and lossless, Avro encodes using a non-standard style of JSON.  The encoding might be made somewhat more palatable and remain lossless, but that would break compatibility.  This is a common & reasonable source of complaint about Avro.\n\nIt might thus be useful to have an Encoder and Decoder implementation that use a more standard JSON style.  This would facilitate interoperability with other tools that produce and consume JSON data.\n\nNote that GenericData#toString() currently produces more standard JSON.  Avro default values also use a more standard, ambiguous JSON encoding (see, e.g., the trunk javadoc for JsonProperties).  So if we add an Encoder and Decoder, we should try to be as compatible with these as possible, e.g., in the handling of binary values, etc.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-12-16T18:00:44.733+0000","updated":"2014-12-16T18:00:44.733+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14517965","id":"14517965","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"body":"I have pushed out a implementation of the Json encoders/decoders that improve the following:\n\n1) union {null, type} is serialized/deserialized naturally to JSON.\n2) Fields equal with the default value are omitted at serialization time, and inferred from writer schema at deserialization time. (this makes the json messages significantly more compact in certain use cases)\n\nfor more detail see:\n\nhttps://github.com/zolyfarkas/avro/commit/8926d6e9384eb3e7d95f05a9d1653ba9348f1966\n\nI would be interested in some feedback, and some help integrating this if there is interest.\n\ncheers","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2015-04-28T20:25:44.840+0000","updated":"2015-04-28T20:25:44.840+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14518027","id":"14518027","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rdblue","name":"rdblue","key":"rdblue","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rdblue&avatarId=20387","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rdblue&avatarId=20387","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rdblue&avatarId=20387","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rdblue&avatarId=20387"},"displayName":"Ryan Blue","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Fields equal with the default value are omitted at serialization time\n\nIs this the right thing to do? I'm not sure either way. It seems like if you have an explicit value, you shouldn't use the default as a way to avoid serializing it. There's a semantic difference between \"value is 5\" and \"value is default\" even if the default is 5. But then, what if the data had the default filled in to get that value in the first place?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rdblue","name":"rdblue","key":"rdblue","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rdblue&avatarId=20387","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rdblue&avatarId=20387","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rdblue&avatarId=20387","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rdblue&avatarId=20387"},"displayName":"Ryan Blue","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-28T20:52:40.163+0000","updated":"2015-04-28T20:52:40.163+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14518095","id":"14518095","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"This seems generally useful, to simplify interoperability with json-based applications.\n\nA few notes:\n - \"Extended\" doesn't seem like a good name prefix for this.  Perhaps it should be \"StandardJson\" or somesuch.  Perhaps it all belongs in a separate package, org.apache.avro.io.json?\n - For forward & backward compatibility reasons, encodings are hard to change.  And each new encoding we add multiplies interoperability issues between Avro implementations.  So, if we add a new encoding, we should make sure to design it carefully.  For example, should this also include a more standard format for binary values, e.g., base64?\n - Discarding default values causes them to get whatever the default value is in the reading schema.  So if the schema's default changes between the time that a datum is written and re-read then the value in the datum will change when it's read.  Is that a bug or a feature?  Regardless, it needs to be well-documented.\n - More generally, documentation of the new serialization format is required, sufficient for someone to implement it independently.  Good javadoc is definitely required, and probably a new section in the Avro specification.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-28T21:21:19.609+0000","updated":"2015-04-28T21:21:19.609+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14524439","id":"14524439","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"body":"Would renaming the encoder/decoders to StdJson... work?\nBase64 sounds like a good idea for encoding binary in json, should not be hard to implement...\nRegarding the default value, the correct way to decode it in my opinion is to use the writer schema to infer it. (which is what this implementation does)\nAbout the default value enc/dec implementation, my implementation works(use it quite a few apps), but It is a bit hacky to say at least... i would be interested in me feedback there...\nAgree with documentation, I will also push out some unit tests as well.\nWe could also improve encoding/decoding BigDecimals as well..\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2015-05-02T01:35:10.055+0000","updated":"2015-05-02T01:35:10.055+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14693976","id":"14693976","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=imbusy","name":"imbusy","key":"imbusy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lukas Steiblys","active":true,"timeZone":"Etc/UTC"},"body":"We ran into the same issue when encoding JSON data. This was not a problem with the Python AVRO implementation so we only ran into this when switching to Java/Scala. Our plan is to use [~zolyfarkas] implementation until this can be merged into the main repo since we aren't planning to change our JSON format and add AVRO coupling.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=imbusy","name":"imbusy","key":"imbusy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lukas Steiblys","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-12T18:27:21.053+0000","updated":"2015-08-12T18:27:21.053+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14693977","id":"14693977","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=imbusy","name":"imbusy","key":"imbusy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lukas Steiblys","active":true,"timeZone":"Etc/UTC"},"body":"BTW, thank you [~zolyfarkas]. I was planning on implementing this myself so you saved us a lot of time.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=imbusy","name":"imbusy","key":"imbusy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lukas Steiblys","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-12T18:28:35.379+0000","updated":"2015-08-12T18:28:35.379+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/14694400","id":"14694400","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"body":"You're welcome,\n\nI have made further improvements, which simplifies the code (reduces the need of \"extended\" readers) and fixes issues with it:\n\ndetails: https://github.com/zolyfarkas/avro/commit/0db74274d4a2903078cabdfe5be823ccf03910cc\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-12T23:18:05.557+0000","updated":"2015-08-12T23:18:05.557+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/15032366","id":"15032366","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 to adding a StandardJson en/decoder for the convert-JSON-to-Avro use case.  We're currently running into this same problem and will take a look at Zoltan's fork for an interim solution.  One suggestion would be to separate the deon't-serialize-default-values into another issue. This seems like a potentially surprising change that's not been well discussed yet.  Separating that change into its own ticket would be a good way to give it a full discussion and help to unblock the correctly-encode-nulllable-fields change into a release.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-11-30T20:04:55.127+0000","updated":"2015-11-30T20:04:55.127+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/15275512","id":"15275512","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wtff","name":"wtff","key":"wtff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"SaschaC","active":true,"timeZone":"Etc/UTC"},"body":"+1 We're currently running into this problem as well. \n\nI would love to see the priority of this ticket or the respective separate one suggested by Jakob to be increased. \nConverting from generic or pre-existing Json to Avro is such an important use-case and enabling this use-case would increase the developer experience dramatically.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=wtff","name":"wtff","key":"wtff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"SaschaC","active":true,"timeZone":"Etc/UTC"},"created":"2016-05-08T08:11:33.145+0000","updated":"2016-05-08T08:11:33.145+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/15276335","id":"15276335","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"body":"[~zolyfarkas], interested in picking this up again?\n\nIf Zoltan isn't, would you be willing to work on a patch with Jakob's suggestion [~wtff]?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2016-05-09T13:04:52.040+0000","updated":"2016-05-09T13:04:52.040+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/15276486","id":"15276486","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rdblue","name":"rdblue","key":"rdblue","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rdblue&avatarId=20387","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rdblue&avatarId=20387","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rdblue&avatarId=20387","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rdblue&avatarId=20387"},"displayName":"Ryan Blue","active":true,"timeZone":"America/Los_Angeles"},"body":"The now-abandoned Kite project has quite a bit of useful code for this. For example, it has a [{{resolveUnion}}|https://github.com/kite-sdk/kite/blob/master/kite-data/kite-data-core/src/main/java/org/kitesdk/data/spi/JsonUtil.java#L365] method that I think implements what most people expect. Hopefully that makes this issue a bit easier.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rdblue","name":"rdblue","key":"rdblue","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rdblue&avatarId=20387","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rdblue&avatarId=20387","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rdblue&avatarId=20387","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rdblue&avatarId=20387"},"displayName":"Ryan Blue","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-09T15:18:51.863+0000","updated":"2016-05-09T15:18:51.863+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/15509283","id":"15509283","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=msoutier","name":"msoutier","key":"msoutier","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marius Soutier","active":true,"timeZone":"Europe/Berlin"},"body":"Can we increase priority on this? It'd make Avro adoption in existing JSON environments much easier.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=msoutier","name":"msoutier","key":"msoutier","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marius Soutier","active":true,"timeZone":"Europe/Berlin"},"created":"2016-09-21T09:03:14.760+0000","updated":"2016-09-21T09:03:14.760+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/15509865","id":"15509865","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"body":"I've increased this from 'minor' to 'major' priority, but I believe the current blocker on it getting accepted is that we need a contributor that's willing to finish things up.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2016-09-21T13:12:19.528+0000","updated":"2016-09-21T13:12:19.528+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/15513391","id":"15513391","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"body":"Hi Sean, I will provide a update from my side,  I am currently still stuck to get AVRO-1723 in.(working on Ryan's suggestions... he should get some code to review soon), after which I was planning to tackle this JIRA...\n\nI will provide some detail on the implementation in case somebody wants to work on this.\n\nMy implementation is currently:\nhttps://github.com/zolyfarkas/avro/blob/trunk/lang/java/avro/src/main/java/org/apache/avro/specific/ExtendedSpecificDatumWriter.java\nhttps://github.com/zolyfarkas/avro/blob/trunk/lang/java/avro/src/main/java/org/apache/avro/reflect/ExtendedReflectDatumWriter.java\nhttps://github.com/zolyfarkas/avro/blob/trunk/lang/java/avro/src/main/java/org/apache/avro/generic/ExtendedGenericDatumWriter.java\nhttps://github.com/zolyfarkas/avro/blob/trunk/lang/java/avro/src/main/java/org/apache/avro/io/ExtendedJsonDecoder.java\nhttps://github.com/zolyfarkas/avro/blob/trunk/lang/java/avro/src/main/java/org/apache/avro/io/ExtendedJsonEncoder.java\n\nhere is what needs to be considered:\n\n1) Currently implementation does: a) optimizes union {null, something} b) omits/infers fields that are equal with the default values. b) is very useful in the world that uses schemas by reducing the size of the payload. But I can see issues with the schema-less crowd, where they need the fields because they don't have the schema... which is why some people suggested separating a) from b)\n2) I still need to move over unit tests that I have outside of the library.\n3) there is more potential for improvement here, for example: union {null, int, string}, union {double, record}... can also be jsonized better, which I have on my todo list, and will be in my implementation sometime in the next 6 months... this might change the approach the current implementation takes...\n\nUnfortunately my time available for this is limited... and since our use cases are covered in the fork we use, this is currently low priority in my list...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2016-09-22T14:11:18.705+0000","updated":"2016-09-22T14:11:18.705+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/15752130","id":"15752130","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=moazami.afshin%40gmail.com","name":"moazami.afshin@gmail.com","key":"moazami.afshin@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Afshin Moazami","active":true,"timeZone":"America/Montreal"},"body":"Any plan for merging this patch to future releases?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=moazami.afshin%40gmail.com","name":"moazami.afshin@gmail.com","key":"moazami.afshin@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Afshin Moazami","active":true,"timeZone":"America/Montreal"},"created":"2016-12-15T18:38:03.712+0000","updated":"2016-12-15T18:38:03.712+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/16022951","id":"16022951","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=MihkelJ","name":"MihkelJ","key":"mihkelj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"MihkelJ","active":true,"timeZone":"Europe/Helsinki"},"body":"We ran up against this issue recently, so I've created a standalone encoder from Zoltan Farkas' excellent ExtendedJsonDecoder, until this issue is resolved: https://github.com/Celos/avro-json-decoder\n\nIt handles point b) from above, infers the value of missing fields from their defaults. The only advantage is that it doesn't require forked avro.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=MihkelJ","name":"MihkelJ","key":"mihkelj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"MihkelJ","active":true,"timeZone":"Europe/Helsinki"},"created":"2017-05-24T14:17:08.723+0000","updated":"2017-05-24T14:17:08.723+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/16055851","id":"16055851","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=DeaconDesperado","name":"DeaconDesperado","key":"deacondesperado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=deacondesperado&avatarId=25274","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=deacondesperado&avatarId=25274","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=deacondesperado&avatarId=25274","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=deacondesperado&avatarId=25274"},"displayName":"Mark Grey","active":true,"timeZone":"America/New_York"},"body":"We would +1 on this patch as a vital component of JSON based systems.  We intend to leverage Avro it this manner in a few systems at Spotify.  There seem to be quite a few workarounds in the wild but it would be good to get \"natural\" json encoding natively supported within alternative encoder/decoders.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=DeaconDesperado","name":"DeaconDesperado","key":"deacondesperado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=deacondesperado&avatarId=25274","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=deacondesperado&avatarId=25274","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=deacondesperado&avatarId=25274","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=deacondesperado&avatarId=25274"},"displayName":"Mark Grey","active":true,"timeZone":"America/New_York"},"created":"2017-06-20T14:33:18.535+0000","updated":"2017-06-20T14:33:18.535+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/16056162","id":"16056162","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"body":"that's great to hear! any chance y'all have someone willing to drive this home?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2017-06-20T17:45:58.424+0000","updated":"2017-06-20T17:45:58.424+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/16056249","id":"16056249","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=DeaconDesperado","name":"DeaconDesperado","key":"deacondesperado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=deacondesperado&avatarId=25274","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=deacondesperado&avatarId=25274","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=deacondesperado&avatarId=25274","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=deacondesperado&avatarId=25274"},"displayName":"Mark Grey","active":true,"timeZone":"America/New_York"},"body":"[~busbey] I am more than willing to volunteer, but it may take me some time to get familiarized with the internals.  Right now we're using [~zolyfarkas]'s forked encoder/decoder and I've been digging into the development process on avro to help contribute.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=DeaconDesperado","name":"DeaconDesperado","key":"deacondesperado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=deacondesperado&avatarId=25274","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=deacondesperado&avatarId=25274","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=deacondesperado&avatarId=25274","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=deacondesperado&avatarId=25274"},"displayName":"Mark Grey","active":true,"timeZone":"America/New_York"},"created":"2017-06-20T18:31:36.047+0000","updated":"2017-06-20T18:31:36.047+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/16056284","id":"16056284","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"body":"we're a patient lot here. :)\n\nLet me know what kind of pointers, if any, would be helpful. When you're ready to get started on this issue in particular I'll assign it to you.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2017-06-20T18:59:38.924+0000","updated":"2017-06-20T18:59:38.924+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/16056307","id":"16056307","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=DeaconDesperado","name":"DeaconDesperado","key":"deacondesperado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=deacondesperado&avatarId=25274","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=deacondesperado&avatarId=25274","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=deacondesperado&avatarId=25274","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=deacondesperado&avatarId=25274"},"displayName":"Mark Grey","active":true,"timeZone":"America/New_York"},"body":"Thanks a bunch Sean, excited to hack on it.\n\nOne big thing that's not immediately apparent to me is what the semantic relationship is between encoder/writer and decoder/reader, especially why the coders take the IO streams rather than the writer/readers.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=DeaconDesperado","name":"DeaconDesperado","key":"deacondesperado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=deacondesperado&avatarId=25274","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=deacondesperado&avatarId=25274","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=deacondesperado&avatarId=25274","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=deacondesperado&avatarId=25274"},"displayName":"Mark Grey","active":true,"timeZone":"America/New_York"},"created":"2017-06-20T19:18:34.836+0000","updated":"2017-06-20T19:18:34.836+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/16057864","id":"16057864","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"body":"The encoder/decoder abstraction is meant to be analagous with XML SAX parsers, an event-based parser that produces bytes from events or turns bytes into events.  The reader/writer abstraction is more like a an XML DOM API, taking an event stream and producing a data structure or vice versa.\n\nhttps://en.wikipedia.org/wiki/Simple_API_for_XML\n\nIn Avro, binary and JSON encodings are implemented by different encoder/decoder pairs, while Generic, Specific, Reflect, Thrift, Json and ProtocolBuffer are alternate in-memory representations.  An application thus gets to pick its serialized encoding and its in-memory representation independently.  The events are the intermediate that makes this possible.\n\nIs that what you were asking?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cutting","name":"cutting","key":"cutting","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Cutting","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-21T17:18:52.391+0000","updated":"2017-06-21T17:18:52.391+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/16057938","id":"16057938","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=DeaconDesperado","name":"DeaconDesperado","key":"deacondesperado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=deacondesperado&avatarId=25274","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=deacondesperado&avatarId=25274","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=deacondesperado&avatarId=25274","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=deacondesperado&avatarId=25274"},"displayName":"Mark Grey","active":true,"timeZone":"America/New_York"},"body":"[~cutting] thanks!  That clears up a lot actually.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=DeaconDesperado","name":"DeaconDesperado","key":"deacondesperado","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=deacondesperado&avatarId=25274","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=deacondesperado&avatarId=25274","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=deacondesperado&avatarId=25274","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=deacondesperado&avatarId=25274"},"displayName":"Mark Grey","active":true,"timeZone":"America/New_York"},"created":"2017-06-21T18:02:26.518+0000","updated":"2017-06-21T18:02:26.518+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/16835152","id":"16835152","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nisarg_127","name":"nisarg_127","key":"nisarg_127","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nisarg","active":true,"timeZone":"Asia/Kolkata"},"body":"I believe this is not going to be part of 1.9.0 release. We are planning to use Zoltan Farkas's forked encoder/decoder for the following features: -\r\n1) Able to serialize decimal from JSON numbers. 1.8.2 throws Expected bytes, got FLOAT exception. \r\n2) The need for standard JSON format serialization, instead of the embedded types, in case of default nulls.  \r\n\r\nWas just wondering what's the reason behind this not making it to 1.9.0 release?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nisarg_127","name":"nisarg_127","key":"nisarg_127","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nisarg","active":true,"timeZone":"Asia/Kolkata"},"created":"2019-05-07T22:07:13.255+0000","updated":"2019-05-07T22:07:13.255+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/17185858","id":"17185858","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jomach","name":"jomach","key":"jomach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jorge Machado","active":true,"timeZone":"Etc/UTC"},"body":"I think I'm hitting similar things with avro 1.10.\r\n\r\n \r\n{code:java}\r\nException in thread \"main\" org.apache.avro.AvroTypeException: Expected long. Got VALUE_STRINGException in thread \"main\" org.apache.avro.AvroTypeException: Expected long. Got VALUE_STRING at org.apache.avro.io.JsonDecoder.error(JsonDecoder.java:511) at org.apache.avro.io.JsonDecoder.readLong(JsonDecoder.java:177) at org.apache.avro.io.ResolvingDecoder.readLong(ResolvingDecoder.java:169) at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:197) at org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:136) at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:247) at org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123) at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:179) at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:160) at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:153)\r\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jomach","name":"jomach","key":"jomach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jorge Machado","active":true,"timeZone":"Etc/UTC"},"created":"2020-08-27T13:58:23.110+0000","updated":"2020-08-27T13:58:23.110+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/17207798","id":"17207798","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pawinder","name":"pawinder","key":"pawinder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34058","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"},"displayName":"Pawinder Kumar","active":true,"timeZone":"Etc/UTC"},"body":"I am also hitting the same error with avro-tools 1.10.  This is open for too long. Will this make to the next release?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pawinder","name":"pawinder","key":"pawinder","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34058","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"},"displayName":"Pawinder Kumar","active":true,"timeZone":"Etc/UTC"},"created":"2020-10-05T02:44:50.031+0000","updated":"2020-10-05T02:44:50.031+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/17396562","id":"17396562","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Melkior","name":"Melkior","key":"melkior","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ludovic Dussart","active":true,"timeZone":"Etc/UTC"},"body":"Same need here ! ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Melkior","name":"Melkior","key":"melkior","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ludovic Dussart","active":true,"timeZone":"Etc/UTC"},"created":"2021-08-10T09:14:22.831+0000","updated":"2021-08-10T09:14:22.831+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/17406400","id":"17406400","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jaya.ananthram","name":"jaya.ananthram","key":"jaya.ananthram","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jaya.ananthram&avatarId=43115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jaya.ananthram&avatarId=43115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jaya.ananthram&avatarId=43115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jaya.ananthram&avatarId=43115"},"displayName":"Jaya Ananthram","active":true,"timeZone":"Etc/UTC"},"body":"Same need here! ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jaya.ananthram","name":"jaya.ananthram","key":"jaya.ananthram","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jaya.ananthram&avatarId=43115","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jaya.ananthram&avatarId=43115","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jaya.ananthram&avatarId=43115","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jaya.ananthram&avatarId=43115"},"displayName":"Jaya Ananthram","active":true,"timeZone":"Etc/UTC"},"created":"2021-08-29T12:45:00.157+0000","updated":"2021-08-29T12:45:00.157+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/17424402","id":"17424402","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rskraba","name":"rskraba","key":"ryanskraba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ryanskraba&avatarId=26747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ryanskraba&avatarId=26747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ryanskraba&avatarId=26747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ryanskraba&avatarId=26747"},"displayName":"Ryan Skraba","active":true,"timeZone":"Europe/Paris"},"body":"The extra type information in a union is a really common complaint, but there are some valid reasons for *not* changing the JSON-encoding spec that need to be addressed:\r\n\r\n#  People that depend on interoperability between languages and versions will be unhappy, and\r\n#  If the expected \"shape\" of your data as JSON is a priority, and _not already_ Avro-style JSON, then the JSON encoder/decoders are not especially flexible or configurable.\r\n\r\nI don't see this making it into the next major release, but we can definitely open the conversation to find a solution or workaround for the two specific cases in this JIRA, like the ExtendedJsonEncoders by [~zolyfarkas] -- what if we were to include these in the Java API with the disclaimer that they generate non-standard, non-interoperable JSON for some custom uses (and are not a new encoding)?  Would that be too much of a maintenance burden for the project?\r\n\r\nIn my personal experience, when I've found myself using Avro JSON encoding instead of binary encoding, it's usually for a not-very-good reason...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rskraba","name":"rskraba","key":"ryanskraba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ryanskraba&avatarId=26747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ryanskraba&avatarId=26747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ryanskraba&avatarId=26747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ryanskraba&avatarId=26747"},"displayName":"Ryan Skraba","active":true,"timeZone":"Europe/Paris"},"created":"2021-10-05T10:00:26.272+0000","updated":"2021-10-05T10:00:26.272+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/17444771","id":"17444771","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=slominskir","name":"slominskir","key":"slominskir","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=slominskir&avatarId=38699","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=slominskir&avatarId=38699","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=slominskir&avatarId=38699","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=slominskir&avatarId=38699"},"displayName":"Ryan","active":true,"timeZone":"America/New_York"},"body":"A workaround is to use the Jackson JSON ObjectMapper API instead.  Replace: \r\n{code:java}\r\nMyCompiledEntity entity = new MyCompiledEntity.newBuilder().build();\r\nSpecificDatumWriter<MyCompiledEntity> writer = new SpecificDatumWriter<>(entity.getSchema());\r\nByteArrayOutputStream out = new ByteArrayOutputStream();\r\nJsonEncoder encoder = EncoderFactory.get().jsonEncoder(entity.getSchema(), out);\r\nwriter.write(entity, encoder);\r\nencoder.flush();\r\nString json = out.toString(Charset.forName(\"UTF-8\"));{code}\r\nWith: \r\n{code:java}\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.addMixIn(MyCompiledEntity.class, MyEntityMixin.class);\r\nString json = mapper.writeValueAsString(value);\r\n\r\n{code}\r\nwhere the mixin defines the actual fields you want (alternatively you could try to exclude all the AVRO specific fields):\r\n\r\n \r\n{code:java}\r\n@JsonAutoDetect(getterVisibility = JsonAutoDetect.Visibility.NONE, isGetterVisibility = JsonAutoDetect.Visibility.NONE)\r\ninterface MyEntityMixin {\r\n  @JsonProperty\r\n  String getField1();\r\n\r\n  @JsonProperty\r\n  String getField2();\r\n}\r\n\r\n{code}\r\n \r\n\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=slominskir","name":"slominskir","key":"slominskir","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=slominskir&avatarId=38699","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=slominskir&avatarId=38699","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=slominskir&avatarId=38699","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=slominskir&avatarId=38699"},"displayName":"Ryan","active":true,"timeZone":"America/New_York"},"created":"2021-11-16T19:56:32.201+0000","updated":"2021-11-16T19:56:32.201+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/17761367","id":"17761367","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=safetytrick","name":"safetytrick","key":"safetytrick","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34043","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34043","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34043","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34043"},"displayName":"Michael Nielson","active":true,"timeZone":"Etc/UTC"},"body":"The Jackson solution has a few major problems. A mixin to exclude getSpecificData and getSchema helps quite a bit but then falls down as soon as you don't provide json for fields with defaults, for instance in idl:\r\n\r\n{code}\r\nrecord Blah {\r\n  string id;\r\n  array<string> someBoringArray = [];\r\n}\r\n{code}\r\n\r\nIt would be nice to deserialize this from the json:\r\n\r\n{code}\r\n{ \"id\": \"some-id\" }\r\n{code}\r\n\r\nYou can almost get the example below to work, Jackson will give you a Blah instance, but as soon as you try and serialize that entity to Avro you will get an exception stating that someBoringArray cannot be null.\r\n{code}\r\nBlah blah = new ObjectMapper().readValue(Blah.class, \"{ \\\"id\\\": \\\"some-id\\\" }\");\r\n{code}\r\n\r\nTo solve for that I update my record.vm template to add the JsonDeserialize annotation to my record classes:\r\n\r\n{code}\r\n@com.fasterxml.jackson.databind.annotation.JsonDeserialize(builder = ${this.mangleTypeIdentifier($schema.getName())}.Builder.class)\r\n{code}\r\n\r\nAnd then this annotation to my builders:\r\n{code}\r\n@com.fasterxml.jackson.databind.annotation.JsonPOJOBuilder(buildMethodName = \"build\", withPrefix = \"set\")\r\n{code}\r\n\r\nSince I am mucking with the velocity template anyway I added @java.beans.Transient to the getSchema and getSpecificData methods.\r\n\r\nI am quite happy with this solution. \r\n\r\nWould there be any interest in a PR with the change? \r\n\r\nI don't see annotations as a part of the public API (but I'll search around for a mixin style Jackson integration for builders, because that would be even better).\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=safetytrick","name":"safetytrick","key":"safetytrick","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34043","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34043","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34043","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34043"},"displayName":"Michael Nielson","active":true,"timeZone":"Etc/UTC"},"created":"2023-09-01T18:09:39.878+0000","updated":"2023-09-01T18:09:39.878+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12739954/comment/17859896","id":"17859896","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harsha.hapuarachchi","name":"harsha.hapuarachchi","key":"JIRAUSER305964","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34057","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"},"displayName":"Harsha Hapuarachchi","active":true,"timeZone":"Etc/UTC"},"body":"Anyone working on this feature?\r\n\r\nI also have a similar requirement to exclude null fields from the JSON I think we can achieve the same with this request if the default values are null.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=harsha.hapuarachchi","name":"harsha.hapuarachchi","key":"JIRAUSER305964","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34057","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"},"displayName":"Harsha Hapuarachchi","active":true,"timeZone":"Etc/UTC"},"created":"2024-06-25T10:26:19.269+0000","updated":"2024-06-25T10:26:19.269+0000"}],"maxResults":41,"total":41,"startAt":0},"customfield_12311820":"0|i1zsz3:","customfield_12314139":null},"changelog":{"startAt":0,"maxResults":17,"total":17,"histories":[{"id":"14189131","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2014-09-08T19:49:05.770+0000","items":[{"field":"summary","fieldtype":"jira","from":null,"fromString":"Json serialization of nallable fileds improvement.","to":null,"toString":"Json serialization of nullable fileds improvement."}]},{"id":"14189132","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2014-09-08T19:49:45.292+0000","items":[{"field":"description","fieldtype":"jira","from":null,"fromString":"Currently serializing a nullable JSON field (union)\n\"type\" : [\"null\",\"some type\"]\n\nwhen serialized result in:  \n\n\"field\":{\"some type\":2}\n\nwhen it could be:\n\n\"field\":\"value\"\n\n","to":null,"toString":"Currently serializing a nullable field (union) \n\"type\" : [\"null\",\"some type\"]\n\nwhen serialized as JSON results in:  \n\n\"field\":{\"some type\":2}\n\nwhen it could be:\n\n\"field\":\"value\"\n\n"}]},{"id":"14189136","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2014-09-08T19:53:37.318+0000","items":[{"field":"Attachment","fieldtype":"jira","from":null,"fromString":null,"to":"12667223","toString":"AVRO-1582-PATCH"}]},{"id":"14194212","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2014-09-12T13:22:35.805+0000","items":[{"field":"description","fieldtype":"jira","from":null,"fromString":"Currently serializing a nullable field (union) \n\"type\" : [\"null\",\"some type\"]\n\nwhen serialized as JSON results in:  \n\n\"field\":{\"some type\":2}\n\nwhen it could be:\n\n\"field\":\"value\"\n\n","to":null,"toString":"Currently serializing a nullable field of type union like:\n\"type\" : [\"null\",\"some type\"]\n\nwhen serialized as JSON results in:  \n\n\"field\":{\"some type\":\"value\"}\n\nwhen it could be:\n\n\"field\":\"value\"\n\n\n"}]},{"id":"14880422","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-10T17:56:15.513+0000","items":[{"field":"summary","fieldtype":"jira","from":null,"fromString":"Json serialization of nullable fileds improvement.","to":null,"toString":"Json serialization of nullable fileds and fields with default values improvement."}]},{"id":"14880424","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-10T17:58:08.757+0000","items":[{"field":"description","fieldtype":"jira","from":null,"fromString":"Currently serializing a nullable field of type union like:\n\"type\" : [\"null\",\"some type\"]\n\nwhen serialized as JSON results in:  \n\n\"field\":{\"some type\":\"value\"}\n\nwhen it could be:\n\n\"field\":\"value\"\n\n\n","to":null,"toString":"Currently serializing a nullable field of type union like:\n\"type\" : [\"null\",\"some type\"]\n\nwhen serialized as JSON results in:  \n\n\"field\":{\"some type\":\"value\"}\n\nwhen it could be:\n\n\"field\":\"value\"\n\nAlso fields that equal the the default value can be omitted from the serialized data. This is possible because the reader will have the writer's schema and can infer the field values. This reduces the size of the json messages.\n\n\n\n"}]},{"id":"14887775","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-12T23:12:20.035+0000","items":[{"field":"Link","fieldtype":"jira","from":null,"fromString":null,"to":"AVRO-1711","toString":"This issue requires AVRO-1711"}]},{"id":"15632806","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2016-09-21T13:09:34.182+0000","items":[{"field":"priority","fieldtype":"jira","from":"4","fromString":"Minor","to":"3","toString":"Major"}]},{"id":"15711067","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zolyfarkas","name":"zolyfarkas","key":"zolyfarkas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zoltan Farkas","active":true,"timeZone":"Etc/UTC"},"created":"2016-11-05T15:23:16.168+0000","items":[{"field":"Link","fieldtype":"jira","from":null,"fromString":null,"to":"AVRO-1950","toString":"This issue relates to AVRO-1950"}]},{"id":"19402107","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gmcdonald","name":"gmcdonald","key":"ipv6guru","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ipv6guru&avatarId=10405","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ipv6guru&avatarId=10405","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ipv6guru&avatarId=10405","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ipv6guru&avatarId=10405"},"displayName":"Gavin McDonald","active":true,"timeZone":"Europe/London"},"created":"2021-01-10T16:48:24.081+0000","items":[{"field":"Workflow","fieldtype":"jira","from":"12888575","fromString":"no-reopen-closed, patch-avail","to":"13752388","toString":"patch-available, re-open possible"}]},{"id":"19429441","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gmcdonald","name":"gmcdonald","key":"ipv6guru","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ipv6guru&avatarId=10405","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ipv6guru&avatarId=10405","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ipv6guru&avatarId=10405","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ipv6guru&avatarId=10405"},"displayName":"Gavin McDonald","active":true,"timeZone":"Europe/London"},"created":"2021-01-10T18:39:54.368+0000","items":[{"field":"Workflow","fieldtype":"jira","from":"13752388","fromString":"patch-available, re-open possible","to":"13779608","toString":"no-reopen-closed, patch-avail"}]},{"id":"20091325","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rskraba","name":"rskraba","key":"ryanskraba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ryanskraba&avatarId=26747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ryanskraba&avatarId=26747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ryanskraba&avatarId=26747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ryanskraba&avatarId=26747"},"displayName":"Ryan Skraba","active":true,"timeZone":"Europe/Paris"},"created":"2021-10-05T09:33:55.570+0000","items":[{"field":"Link","fieldtype":"jira","from":null,"fromString":null,"to":"AVRO-3210","toString":"This issue relates to AVRO-3210"}]},{"id":"20091329","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rskraba","name":"rskraba","key":"ryanskraba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ryanskraba&avatarId=26747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ryanskraba&avatarId=26747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ryanskraba&avatarId=26747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ryanskraba&avatarId=26747"},"displayName":"Ryan Skraba","active":true,"timeZone":"Europe/Paris"},"created":"2021-10-05T09:34:21.139+0000","items":[{"field":"Link","fieldtype":"jira","from":null,"fromString":null,"to":"AVRO-2899","toString":"This issue is duplicated by AVRO-2899"}]},{"id":"20091334","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rskraba","name":"rskraba","key":"ryanskraba","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ryanskraba&avatarId=26747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ryanskraba&avatarId=26747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ryanskraba&avatarId=26747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ryanskraba&avatarId=26747"},"displayName":"Ryan Skraba","active":true,"timeZone":"Europe/Paris"},"created":"2021-10-05T09:35:00.345+0000","items":[{"field":"summary","fieldtype":"jira","from":null,"fromString":"Json serialization of nullable fileds and fields with default values improvement.","to":null,"toString":"Json serialization of nullable fields and fields with default values improvement."}]},{"id":"20490691","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iroh","name":"iroh","key":"JIRAUSER280391","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER280391&avatarId=52383","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER280391&avatarId=52383","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER280391&avatarId=52383","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER280391&avatarId=52383"},"displayName":"Chris Wells","active":true,"timeZone":"Asia/Shanghai"},"created":"2022-03-03T15:08:58.103+0000","items":[{"field":"Workflow","fieldtype":"jira","from":"13779608","fromString":"no-reopen-closed, patch-avail","to":"13912157","toString":"patch-available, re-open possible"}]},{"id":"20494137","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iroh","name":"iroh","key":"JIRAUSER280391","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER280391&avatarId=52383","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER280391&avatarId=52383","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER280391&avatarId=52383","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER280391&avatarId=52383"},"displayName":"Chris Wells","active":true,"timeZone":"Asia/Shanghai"},"created":"2022-03-03T15:11:01.531+0000","items":[{"field":"Workflow","fieldtype":"jira","from":"13912157","fromString":"patch-available, re-open possible","to":"13915588","toString":"no-reopen-closed, patch-avail"}]},{"id":"20871454","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kniemitalo","name":"kniemitalo","key":"JIRAUSER290540","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kalle Niemitalo","active":true,"timeZone":"Europe/Helsinki"},"created":"2022-08-24T08:37:10.145+0000","items":[{"field":"Link","fieldtype":"jira","from":null,"fromString":null,"to":"AVRO-3620","toString":"This issue is related to AVRO-3620"}]}]}}